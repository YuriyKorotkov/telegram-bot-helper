
# ISUP Chat Bot Assistant

**ISUP Chat Bot Assistant** — это Telegram-бот, разработанный для помощи пользователям при заполнении сайта с проектной документацией. Он отправляет методические материалы, предоставляет инструкции, собирает информацию об активности пользователей и имеет функцию обратной связи.

## Функциональные возможности

- **Отправка методических материалов**: Бот отправляет пользователю инструкции по заполнению сайта с проектной документацией в виде файлов (например, PDF).
- **Обратная связь**: Пользователи могут отправлять свои комментарии или вопросы через бота, которые будут записываться и отправляться в систему обратной связи.
- **Сбор данных об активности**: Бот отслеживает активность пользователей, такие как количество открытых инструкций, время использования и частота обращений.
- **Поддержка пользователей**: Бот предоставляет возможность общения с пользователями, отвечает на вопросы и предоставляет нужные материалы для работы.

## Установка

Для запуска бота на своём сервере, следуй инструкциям:

1. Клонируй репозиторий:
    ```bash
    git clone https://github.com/your_username/ISUP_chat_bot_assistant.git
    cd ISUP_chat_bot_assistant
    ```

2. Установи необходимые зависимости:
    ```bash
    pip install -r requirements.txt
    ```

3. Настрой окружение:

    Создай файл `.env` в корне проекта и добавь следующие переменные:

    ```env
    BOT_TOKEN=<ваш_токен_бота>
    ADMIN_IDS=<список_администраторов_через_запятую>
    ```

4. Для работы с SQLite (если используется база данных) — создайте таблицу пользователей:

    Пример скрипта для создания таблицы:
    ```python
    import sqlite3

    conn = sqlite3.connect('users.db')
    c = conn.cursor()
    c.execute('''
        CREATE TABLE IF NOT EXISTS users (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            user_id INTEGER UNIQUE,
            username TEXT,
            joined_at TEXT,
            last_seen TEXT,
            usage_count INTEGER DEFAULT 0
        )
    ''')
    conn.commit()
    conn.close()
    ```

## Структура проекта

- `main.py`: Главный файл для запуска бота, инициализация бота, диспетчера и хэндлеров.
- `handlers.py`: Хэндлеры для обработки команд и сообщений от пользователей.
- `text1.py`: Файл с текстовыми ответами для бота.
- `utils.py`: Вспомогательные функции для работы с файлами, базой данных и т. д.
- `decorators_for_bot.py`: Декораторы для обработки ошибок, прогресса и проверки файлов.
- `users.db`: База данных для хранения информации о пользователях (если используется).

## Пример работы бота

1. Пользователь начинает диалог с ботом.
2. Бот отправляет приветственное сообщение и инструкцию по заполнению сайта с проектной документацией.
3. Бот отправляет файлы с методичками и объясняет, как их использовать.
4. Пользователь может задать вопрос через кнопку "Обратная связь".
5. Бот записывает активность пользователя (например, количество открытых файлов) и отвечает на вопросы.

## Пример кода для хэндлера

```python
from aiogram import Router, F
from aiogram.types import Message, ContentType
from aiogram import Bot

router = Router()

@router.message(F.text == 'Получить методичку')
async def send_methodical(message: Message, bot: Bot):
    # Отправка файла с методичкой
    await message.answer("Вот ваша методичка по заполнению сайта.")
    file_path = 'path_to_methodical_file.pdf'
    with open(file_path, 'rb') as file:
        await bot.send_document(message.chat.id, file)

@router.message(F.text == 'Обратная связь')
async def feedback(message: Message):
    # Обработка обратной связи
    await message.answer("Пожалуйста, напишите свой вопрос или комментарий.")
    # Можно добавить сохранение в базу данных или отправку на email

def register_handlers(dp):
    dp.include_router(router)
```

## Запуск бота

1. Запусти бота с помощью команды:
    ```bash
    python main.py
    ```

2. После запуска, бот будет ожидать сообщений и выполнять команды, такие как отправка методических материалов и обработка обратной связи.

## Логирование

Для удобства отладки и мониторинга, все действия бота логируются. Логи можно просматривать в консоли или сохранять в файл для дальнейшего анализа.

Пример логирования:
```python
import logging

logging.basicConfig(level=logging.INFO)
```

## Заключение

Этот бот поможет пользователям быстро получать нужные методические материалы и инструкции по работе с проектной документацией, а также оставлять отзывы или задавать вопросы через функцию обратной связи.

Если у тебя возникли вопросы или ты хочешь внести улучшения в проект, не стесняйся открывать issue или отправлять pull request!
